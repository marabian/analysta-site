---
import "../styles/globals.css";

interface Props {
  title?: string;
  description?: string;
}

const {
  title = "Analysta | AI Consulting Services",
  description = "Analysta helps businesses leverage artificial intelligence to solve complex problems, improve efficiency, and drive innovation.",
} = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={description} />
    <title>{title}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Theme detection script -->
    <script is:inline>
      // On page load or when changing themes, best to add inline in `head` to avoid FOUC
      function setTheme() {
        const theme = localStorage.getItem("theme") || "dark"; // Default to dark mode
        document.documentElement.classList.remove("light", "dark");
        document.documentElement.classList.add(theme);
        document.documentElement.style.colorScheme = theme;
      }

      // Run immediately
      setTheme();
    </script>
  </head>
  <body>
    <header class="absolute top-0 left-0 right-0 z-50 pt-4">
      <div class="container mx-auto px-4 md:px-6">
        <div
          class="flex justify-between items-center py-3 px-4 md:px-6 rounded-xl dark:bg-background/30 bg-white/80 backdrop-blur-xl dark:border-white/10 border border-black/10 dark:shadow-sm shadow-lg shadow-black/5"
        >
          <div class="flex items-center gap-2">
            <svg
              width="32"
              height="32"
              viewBox="0 0 100 100"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <rect width="100" height="100" rx="25" fill="url(#logo-gradient)"
              ></rect>
              <path d="M33 70L50 30L67 70H56L50 55L44 70H33Z" fill="white"
              ></path>
              <defs>
                <linearGradient
                  id="logo-gradient"
                  x1="0"
                  y1="0"
                  x2="100"
                  y2="100"
                  gradientUnits="userSpaceOnUse"
                >
                  <stop offset="0%" stop-color="#3245FF"></stop>
                  <stop offset="100%" stop-color="#BC52EE"></stop>
                </linearGradient>
              </defs>
            </svg>
            <span
              class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
              >Analysta</span
            >
          </div>

          <nav class="hidden md:block">
            <div
              class="dark:bg-background/50 bg-black/5 p-1 rounded-full dark:border-white/10 border border-black/10"
            >
              <ul class="flex relative">
                <li>
                  <a href="#services" class="pill-link" data-active="false"
                    >Services</a
                  >
                </li>
                <li>
                  <a href="#about" class="pill-link" data-active="false"
                    >About</a
                  >
                </li>
                <li>
                  <a href="#contact" class="pill-link" data-active="false"
                    >Contact</a
                  >
                </li>
                <div
                  id="pill-indicator"
                  class="absolute left-0 top-0 h-full dark:bg-background/60 bg-white/80 rounded-full transition-all duration-300 ease-in-out shadow-sm"
                >
                </div>
              </ul>
            </div>
          </nav>

          <div class="flex items-center gap-4">
            <!-- Theme Toggle Button (Sun/Moon) -->
            <!-- <button
              id="theme-toggle"
              class="p-2 rounded-full dark:bg-background/50 bg-black/5 hover:bg-primary/10 backdrop-blur-sm dark:border-white/10 border border-black/10 transition-colors"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 hidden dark:block"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"
                ></path>
              </svg>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-5 h-5 dark:hidden"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
                ></path>
              </svg>
            </button> -->

            <a
              href="#contact"
              class="bg-primary/90 hover:bg-primary text-white px-6 py-2 rounded-full transition-colors hidden md:inline-block font-medium shadow-md shadow-primary/20 border border-primary/20"
              >Get in Touch</a
            >
            <button
              class="p-2 md:hidden dark:bg-background/50 bg-black/5 rounded-full dark:border-white/10 border border-black/10"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </header>

    <style>
      .pill-link {
        @apply relative py-2 px-4 font-medium text-foreground/70 hover:text-foreground transition-colors duration-200 z-10 inline-block;
      }

      .pill-link[data-active="true"] {
        @apply text-foreground;
      }
    </style>

    <script is:inline>
      document.addEventListener("DOMContentLoaded", () => {
        const pillLinks = document.querySelectorAll(".pill-link");
        const indicator = document.getElementById("pill-indicator");

        function updateIndicator(elem) {
          // Set all links to inactive
          pillLinks.forEach((link) =>
            link.setAttribute("data-active", "false")
          );

          // Set current link to active
          elem.setAttribute("data-active", "true");

          // Position the indicator
          indicator.style.width = `${elem.offsetWidth}px`;
          indicator.style.left = `${elem.offsetLeft}px`;
        }

        // Set initial state to first item
        if (pillLinks.length > 0) {
          updateIndicator(pillLinks[0]);
        }

        // Add click handlers
        pillLinks.forEach((link) => {
          link.addEventListener("click", (e) => {
            updateIndicator(e.currentTarget);
          });
        });

        // Check hash on page load and set the active tab
        function checkHash() {
          const hash = window.location.hash;
          if (hash) {
            const activeLink = document.querySelector(`a[href="${hash}"]`);
            if (activeLink && activeLink.classList.contains("pill-link")) {
              updateIndicator(activeLink);
            }
          }
        }

        window.addEventListener("hashchange", checkHash);
        checkHash();
      });
    </script>

    <main>
      <slot />
    </main>

    <footer class="mt-20 relative overflow-hidden pt-16 pb-10">
      <!-- Background Elements -->
      <div
        class="absolute inset-0 -z-10 bg-gradient-to-b from-background via-background/95 to-primary/5"
      >
      </div>
      <div
        class="absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"
      >
      </div>
      <div
        class="absolute bottom-0 -right-64 -z-10 transform-gpu blur-3xl overflow-hidden"
      >
        <div
          class="aspect-square h-[40rem] bg-gradient-to-br from-primary/20 to-secondary/20 opacity-30"
        >
        </div>
      </div>

      <div class="container mx-auto px-4 md:px-6">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-10">
          <!-- Company Info -->
          <div class="md:col-span-5 space-y-4">
            <div class="flex items-center gap-2 mb-6">
              <svg
                width="32"
                height="32"
                viewBox="0 0 100 100"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="100"
                  height="100"
                  rx="25"
                  fill="url(#footer-gradient)"></rect>
                <path d="M33 70L50 30L67 70H56L50 55L44 70H33Z" fill="white"
                ></path>
                <defs>
                  <linearGradient
                    id="footer-gradient"
                    x1="0"
                    y1="0"
                    x2="100"
                    y2="100"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop offset="0%" stop-color="#3245FF"></stop>
                    <stop offset="100%" stop-color="#BC52EE"></stop>
                  </linearGradient>
                </defs>
              </svg>
              <span
                class="text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
                >Analysta</span
              >
            </div>

            <p class="text-muted-foreground/90 max-w-md text-sm">
              We build AI MVPs, develop custom MCP servers, and help
              organizations integrate AI into their workflow. Let us help you
              harness the power of AI.
            </p>

            <div class="flex items-center gap-4 pt-4">
              <a
                href="#"
                class="p-2 rounded-full bg-background/40 hover:bg-primary/10 border border-primary/20 transition-colors"
                aria-label="Twitter"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="text-foreground/70"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15"
                  ></path>
                </svg>
              </a>
              <a
                href="#"
                class="p-2 rounded-full bg-background/40 hover:bg-primary/10 border border-primary/20 transition-colors"
                aria-label="LinkedIn"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="text-foreground/70"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"
                  ></path>
                </svg>
              </a>
              <a
                href="#"
                class="p-2 rounded-full bg-background/40 hover:bg-primary/10 border border-primary/20 transition-colors"
                aria-label="GitHub"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="text-foreground/70"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"
                  ></path>
                </svg>
              </a>
            </div>
          </div>

          <!-- Links -->
          <div class="md:col-span-7">
            <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
              <div>
                <h3 class="font-semibold mb-4 text-foreground/90">
                  Navigation
                </h3>
                <ul class="space-y-2">
                  <li>
                    <a
                      href="#services"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >Services</a
                    >
                  </li>
                  <li>
                    <a
                      href="#about"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >About</a
                    >
                  </li>
                  <li>
                    <a
                      href="#contact"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >Contact</a
                    >
                  </li>
                </ul>
              </div>

              <div>
                <h3 class="font-semibold mb-4 text-foreground/90">Contact</h3>
                <ul class="space-y-2">
                  <li class="text-muted-foreground flex gap-2 items-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"
                      ></path>
                    </svg>
                    info@analysta.ai
                  </li>
                  <li class="text-muted-foreground flex gap-2 items-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
                      ></path>
                    </svg>
                    (555) 123-4567
                  </li>
                  <li class="text-muted-foreground flex gap-2 items-center">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="w-4 h-4"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"></path>
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"
                      ></path>
                    </svg>
                    San Francisco, CA
                  </li>
                </ul>
              </div>

              <div>
                <h3 class="font-semibold mb-4 text-foreground/90">Legal</h3>
                <ul class="space-y-2">
                  <li>
                    <a
                      href="#"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >Terms of Service</a
                    >
                  </li>
                  <li>
                    <a
                      href="#"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >Privacy Policy</a
                    >
                  </li>
                  <li>
                    <a
                      href="#"
                      class="text-muted-foreground hover:text-primary transition-colors"
                      >Cookies</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div
          class="mt-12 pt-6 border-t border-border/40 text-center text-muted-foreground"
        >
          <p class="text-sm">
            &copy; {new Date().getFullYear()} Analysta. All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <!-- Theme toggle script -->
    <script is:inline>
      document.addEventListener("DOMContentLoaded", () => {
        const themeToggle = document.getElementById("theme-toggle");

        // Function to handle theme change
        function toggleTheme() {
          // Check current theme
          const isDark = document.documentElement.classList.contains("dark");
          const newTheme = isDark ? "light" : "dark";

          // Update DOM
          document.documentElement.classList.remove(isDark ? "dark" : "light");
          document.documentElement.classList.add(newTheme);
          document.documentElement.style.colorScheme = newTheme;

          // Store in localStorage
          localStorage.setItem("theme", newTheme);

          // Update stars if they exist
          updateStarsForTheme(!isDark);
        }

        // Add click event to the theme toggle button
        if (themeToggle) {
          themeToggle.addEventListener("click", toggleTheme);
        }

        // Function to update stars appearance based on theme
        function updateStarsForTheme(isDark) {
          const starsContainer = document.getElementById("stars-container");
          if (!starsContainer) return;

          // Get all stars
          const stars = starsContainer.querySelectorAll("div");

          // Update star appearance
          stars.forEach((star) => {
            // Set color and shadow
            if (isDark) {
              star.style.backgroundColor = "white";
              star.style.opacity = (Math.random() * 0.7 + 0.3).toString();
              star.style.boxShadow = "none";
            } else {
              star.style.backgroundColor = "#3245FF"; // Blue color in light mode
              star.style.opacity = (Math.random() * 0.7 + 0.3).toString();
              star.style.boxShadow = "0 0 4px rgba(50, 69, 255, 0.8)";
            }
          });
        }
      });
    </script>
  </body>
</html>
